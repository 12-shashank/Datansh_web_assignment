<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" 
    rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link rel="stylesheet" href="ass.css">
    <style>
        body{
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        .wrapper{
            width: 100%;
            border: solid wheat 2px;
            border-radius: 5px;
            color: white;
            text-align: center;
            background: transparent;
            backdrop-filter: blur(20px);
        }
    </style>

    <title>Identity Page</title>
</head>
<body>
    
    <div class="container" style="text-align: center;"> 
        <div class="row">
            <form  onsubmit="login()">
            <h1>Login</h1>
                 <div class="col">
                     <div class="input-box" >
                        <input type="text" id="Username" placeholder="Username">
                         </div>
                    <div class="input-box" >
                        <input type="password" id="Password" placeholder="Password" >
                     </div>
                    <button type="submit">Login</button>
                </div>
            </form>

            <div class="col">
            <form onsubmit="register()">    
            <h1>Register</h1>
                <div class="input-box" >
                    <input type="text" id="registerUsername" placeholder="Username">
                </div>
                <div class="input-box" >    
                    <input type="text" id="registerFirstName" placeholder="First Name">
                </div>
            
                <div class="input-box" >
                    <input type="text" id="registerLastName" placeholder="Last Name">
                </div>
        
                <div class="input-box" >
                    <input type="email" id="registerEmail" placeholder="Email">
                </div>
                <div class="input-box">
                    <input type="password" id="registerPassword" placeholder="Password">
                </div>
                <div class="input-box" >
                    <input type="password" id="registerConfirmPassword" placeholder="Confirm Password">
                </div>     
                    <button type="submit">Register</button>
            </diV>
            <form> 

</div>
    <div class="forgot">
    <a href="forgot_password.html">Forgot Password</a>
    </div>

        
</div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" 
    integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
    

    <script>
        // Functions to manage login, registration, and more

        function register() {
            let username = document.getElementById('registerUsername').value;
            let firstname = document.getElementById('registerFirstName').value;
            let lastname = document.getElementById('registerLastName').value;
            let email = document.getElementById('registerEmail').value;
            let password = document.getElementById('registerPassword').value;
            let confirmPassword = document.getElementById('registerConfirmPassword').value;

            let users = JSON.parse(localStorage.getItem("users")) || [];
            
            let isRegistered = users.some(user => user.email === email);

            if (isRegistered) {
                alert("Email is already registered");
            } else if (username && firstname && lastname && email && password && confirmPassword) {
                if (password === confirmPassword) {
                    users.push({
                        username: username,
                        firstname: firstname,
                        lastname: lastname,
                        email: email,
                        password: password
                    });
                    localStorage.setItem("users", JSON.stringify(users));
                    alert('Registration successful');
                } else {
                    alert('Confirm Password is not the same');
                }
            } else {
                alert('Please fill in all fields');
            }
        }

        function login(){

            let loginusername = document.getElementById('Username').value;
            let loginpassword = document.getElementById('Password').value;
            
            let users = JSON.parse(localStorage.getItem("users")) || [];
            
            let isRegistered = users.some(user => user.email === loginusername && user.password===loginpassword);

            if (isRegistered) {
                window.location.href = 'contact.html';
                alert('Valid user');
            }
            else{
                alert('Wrong Password & user name');
            }
        }

    </script>
</body>
</html>
